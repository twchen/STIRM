{"version":3,"sources":["actions/index.js","reducers/index.js","utils.js","components/Welcome.js","components/Question.js","components/Histogram.js","components/three.js","components/ConvexHull.js","components/Legend.js","components/PreferencePlane.js","components/Visuals.js","components/Stats.js","components/Interaction.js","components/Result.js","components/App.js","index.js"],"names":["setActiveComponent","component","type","combineReducers","activeComponent","state","arguments","length","undefined","action","points","labels","attributes","candidates","mask","forEach","_ref","_ref2","Object","slicedToArray","attr","objectSpread","prunedPoints","indices","map","idx","step","concat","toConsumableArray","leftPoints","filter","indexOf","numLeftPoints","prev","mode","vertices","parsePoints","text","trim","split","slice","line","str","parseFloat","parseLabels","loadDataset","asyncToGenerator","regenerator_default","a","mark","_callee","pointsURL","labelsURL","response","wrap","_context","next","fetch","sent","t0","t1","abrupt","t2","t3","stop","this","_x","_x2","apply","selectCandidates","ranges","maxPoints","val","low","high","i","point","isValid","j","push","array2Vector2D","array","vector","window","Module","VecVecDouble","arr","vec","VectorDouble","x","push_back","delete","vector2Array2D","size","get","vector2Array","getPrunedIndices","prevIndices","currIndices","prunedIndices","Welcome","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleStart","_this$props$attribute","config","range","inputs","current","value","isNaN","alert","test","parseInt","startAlgorithm","handleModeChange","event","changeMode","target","React","createRef","_this2","trs","_ref3","_ref4","disabled","react_default","createElement","key","className","placeholder","ref","checked","onChange","toggleMask","name","id","htmlFor","style","maxWidth","width","onClick","Component","connect","_ref5","dispatch","setCandidates","defineProperty","SIMPLEX","RANDOM","Interaction","choose","option","runner","convexHullVertices","readConvexHullVertices","updateConvexHull","getCandidatesIndices","questioNo","prunePoints","stopInteraction","nextPair","setState","pair","showResult","smallerBetter","VectorInt","candidatesVec","AlgorithmRunner","setLeftPoints","ths","tds","data-toggle","title","Histogram","_onMouseLeave","hintValue","_onNearestX","index","data","height","react_vis_es","onMouseLeave","tickValues","tickFormat","toString","ticks","fill","includeMargin","xPercent","yPercent","transform","textAnchor","color","onNearestX","animation","y","num","THREE","require","SCALE","FACTOR","ConvexHull","drawGeometry","vertex","scaled_vertex","construct","Vector3","geometry","ConvexGeometry","material","MeshBasicMaterial","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","opacity","transparent","mesh","Mesh","geo","EdgesGeometry","mat","LineBasicMaterial","linewidth","wireframe","LineSegments","add","scene","addAxes","axes","AxesHelper","typeface","font","Font","meshes","shape","generateShapes","ShapeBufferGeometry","side","DoubleSide","rotation","set","Math","PI","position","sqrt","start","frameId","requestAnimationFrame","animate","cancelAnimationFrame","controls","update","renderer","render","camera","mount","clientWidth","clientHeight","Scene","PerspectiveCamera","up","OrbitControls","WebGLRenderer","antialias","setClearColor","setSize","appendChild","domElement","prevProps","remove","dispose","removeChild","Line","alignItems","display","backgroundColor","SlideItem","justifyContent","Legend","settings","dots","infinite","speed","slidesToShow","slidesToScroll","vertical","verticalSwiping","arrows","swipeToSlide","afterChange","changeStartingIndex","verticalAlign","slider","slickPrev","cursor","index_es","icon","faAngleUp","lib_default","assign","self","slickNext","faAngleDown","PreferencePlane","updateContextHullVertices","vertext","vert","components_ConvexHull","top","left","components_Legend","Visuals","minWidth","components_Histogram","components_PreferencePlane","Stats","prunedTrs","leftTrs","classNames","table-fixed","Question","components_Visuals","components_Stats","restart","th","margin","components_Welcome","components_Interaction","components_Result","onRuntimeInitialized","_onRuntimeInitialized","store","createStore","rootReducer","es","components_App","document","getElementById","script","src","async","body"],"mappings":"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","file":"static/js/main.a412feca.chunk.js","sourcesContent":["export const SET_ACTIVE_COMPONENT = \"SET_ACTIVE_COMPONENT\";\r\nexport const SET_CANDIDATES = \"SET_CANDIDATES\";\r\nexport const SET_DATASET = \"SET_DATASET\";\r\nexport const TOGGLE_MASK = \"TOGGLE_MASK\";\r\nexport const PRUNE_POINTS = \"PRUNE_POINTS\";\r\nexport const SET_LEFT_POINTS = \"SET_LEFT_POINTS\";\r\nexport const SET_MODE = \"SET_MODE\";\r\nexport const RESTART = \"RESTART\";\r\nexport const UPDATE_CONVEX_HULL = \"UPDATE_CONVEX_HULL\";\r\n\r\nexport const setActiveComponent = component => ({\r\n  type: SET_ACTIVE_COMPONENT,\r\n  component\r\n});\r\n\r\nexport const setCandidates = candidates => ({\r\n  type: SET_CANDIDATES,\r\n  candidates\r\n});\r\n\r\nexport const setDataset = (points, labels, attributes) => ({\r\n  type: SET_DATASET,\r\n  points,\r\n  labels,\r\n  attributes\r\n});\r\n\r\nexport const toggleMask = (attr, val) => ({\r\n  type: TOGGLE_MASK,\r\n  mask: { [attr]: val }\r\n});\r\n\r\nexport const prunePoints = (indices, step) => ({\r\n  type: PRUNE_POINTS,\r\n  indices,\r\n  step\r\n});\r\n\r\nexport const setLeftPoints = indices => ({\r\n  type: SET_LEFT_POINTS,\r\n  indices\r\n});\r\n\r\nexport const changeMode = mode => ({\r\n  type: SET_MODE,\r\n  mode\r\n});\r\n\r\nexport const restart = () => ({\r\n  type: RESTART\r\n});\r\n\r\nexport const updateConvexHull = vertices => ({\r\n  type: UPDATE_CONVEX_HULL,\r\n  vertices\r\n});\r\n","import { combineReducers } from \"redux\";\r\nimport {\r\n  SET_ACTIVE_COMPONENT,\r\n  SET_DATASET,\r\n  SET_CANDIDATES,\r\n  TOGGLE_MASK,\r\n  SET_LEFT_POINTS,\r\n  PRUNE_POINTS,\r\n  SET_MODE,\r\n  RESTART,\r\n  UPDATE_CONVEX_HULL\r\n} from \"../actions\";\r\n\r\nconst activeComponent = (state = \"Welcome\", action) => {\r\n  switch (action.type) {\r\n    case SET_ACTIVE_COMPONENT:\r\n      return action.component;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst points = (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_DATASET:\r\n      return action.points;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst labels = (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_DATASET:\r\n      return action.labels;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst attributes = (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_DATASET:\r\n      return action.attributes;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst candidates = (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_CANDIDATES:\r\n      return action.candidates;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst mask = (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_DATASET:\r\n      const mask = {};\r\n      action.attributes.forEach(([attr, config]) => {\r\n        mask[attr] = 1;\r\n      });\r\n      return mask;\r\n    case TOGGLE_MASK:\r\n      return { ...state, ...action.mask };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// array of [idx, step no.]\r\nconst prunedPoints = (state = [], action) => {\r\n  switch (action.type) {\r\n    case RESTART:\r\n      return [];\r\n    case PRUNE_POINTS:\r\n      const points = action.indices.map(idx => [idx, action.step]);\r\n      return [...points, ...state];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// array of indices\r\nconst leftPoints = (state = [], action) => {\r\n  switch (action.type) {\r\n    case RESTART:\r\n      return [];\r\n    case SET_LEFT_POINTS:\r\n      return action.indices;\r\n    case PRUNE_POINTS:\r\n      return state.filter(idx => action.indices.indexOf(idx) === -1);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// history of the number of left points\r\nconst numLeftPoints = (state = [], action) => {\r\n  switch (action.type) {\r\n    case SET_LEFT_POINTS:\r\n      return [action.indices.length];\r\n    case PRUNE_POINTS:\r\n      const prev = state[state.length - 1];\r\n      return [...state, prev - action.indices.length];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst mode = (state = \"simplex\", action) => {\r\n  switch (action.type) {\r\n    case SET_MODE:\r\n      return action.mode;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst vertices = (state = [], action) => {\r\n  switch (action.type) {\r\n    case UPDATE_CONVEX_HULL:\r\n      return action.vertices;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default combineReducers({\r\n  activeComponent,\r\n  points,\r\n  labels,\r\n  attributes,\r\n  candidates,\r\n  mask,\r\n  prunedPoints,\r\n  leftPoints,\r\n  numLeftPoints,\r\n  mode,\r\n  vertices\r\n});\r\n","function parsePoints(text) {\r\n  const points = text\r\n    .trim()\r\n    .split(\"\\n\")\r\n    .slice(1) // the first line is <numOfPoints> <dimension>\r\n    .map(line =>\r\n      line\r\n        .trim()\r\n        .split(/\\s+/)\r\n        .map(str => parseFloat(str))\r\n    );\r\n  return points;\r\n}\r\n\r\nfunction parseLabels(text) {\r\n  const labels = text.trim().split(\"\\n\");\r\n  return labels;\r\n}\r\n\r\nfunction isInRange(val, low, high) {\r\n  return low <= val && val <= high;\r\n}\r\n\r\nexport const getRanges = points => {\r\n  const ranges = points[0].map(x => ({ low: x, high: x }));\r\n  points.slice(1).forEach(point => {\r\n    point.forEach((x, i) => {\r\n      ranges[i].low = Math.min(ranges[i].low, x);\r\n      ranges[i].high = Math.max(ranges[i].high, x);\r\n    });\r\n  });\r\n  return ranges;\r\n};\r\n\r\nexport const loadDataset = async (pointsURL, labelsURL) => {\r\n  let response = await fetch(pointsURL);\r\n  const points = parsePoints(await response.text());\r\n  if (labelsURL === undefined) {\r\n    return points;\r\n  }\r\n  response = await fetch(labelsURL);\r\n  const labels = parseLabels(await response.text());\r\n  return [points, labels];\r\n};\r\n\r\nexport const selectCandidates = (points, ranges, mask, maxPoints) => {\r\n  const candidates = [];\r\n  for (let i = 0; i < points.length; ++i) {\r\n    if (candidates.length >= maxPoints) break;\r\n    const point = points[i];\r\n    let isValid = true;\r\n    for (let j = 0; j < point.length; ++j) {\r\n      if (mask[j] && !isInRange(point[j], ranges[j][0], ranges[j][1])) {\r\n        isValid = false;\r\n        break;\r\n      }\r\n    }\r\n    if (isValid) candidates.push(point);\r\n  }\r\n  return candidates;\r\n};\r\n\r\nexport const array2Vector2D = array => {\r\n  const vector = new window.Module.VecVecDouble();\r\n  array.forEach(arr => {\r\n    const vec = new window.Module.VectorDouble();\r\n    arr.forEach(x => vec.push_back(x));\r\n    vector.push_back(vec);\r\n    vec.delete();\r\n  });\r\n  return vector;\r\n};\r\n\r\nexport const vector2Array2D = vector => {\r\n  const array = [];\r\n  for (let i = 0; i < vector.size(); ++i) {\r\n    const vec = vector.get(i);\r\n    const arr = [];\r\n    for (let j = 0; j < vec.size(); ++j) arr.push(vec.get(j));\r\n    array.push(arr);\r\n  }\r\n  return array;\r\n};\r\n\r\nexport const vector2Array = vector => {\r\n  const array = [];\r\n  for (let i = 0; i < vector.size(); ++i) {\r\n    array.push(vector.get(i));\r\n  }\r\n  return array;\r\n};\r\n\r\nexport const getPrunedIndices = (prevIndices, currIndices) => {\r\n  let prunedIndices = [];\r\n  for (let i = 0, j = 0; i < prevIndices.size() || j < currIndices.size(); ) {\r\n    if (j >= currIndices.size() || prevIndices.get(i) < currIndices.get(j)) {\r\n      prunedIndices.push(prevIndices.get(i));\r\n      ++i;\r\n    } else {\r\n      ++i;\r\n      ++j;\r\n    }\r\n  }\r\n  return prunedIndices;\r\n};\r\n","import React from \"react\";\r\nimport {\r\n  setActiveComponent,\r\n  setCandidates,\r\n  toggleMask,\r\n  changeMode\r\n} from \"../actions\";\r\nimport { connect } from \"react-redux\";\r\nimport { selectCandidates } from \"../utils\";\r\n\r\nclass Welcome extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.inputs = {};\r\n    this.props.attributes.forEach(([attr, config]) => {\r\n      this.inputs[attr] = [React.createRef(), React.createRef()];\r\n    });\r\n    this.inputs.maxPoints = React.createRef();\r\n  }\r\n\r\n  handleStart = () => {\r\n    const ranges = [];\r\n    const mask = [];\r\n    for (let i = 0; i < this.props.attributes.length; ++i) {\r\n      const [attr, config] = this.props.attributes[i];\r\n      const range = [config.low, config.high];\r\n      if (this.props.mask[attr]) {\r\n        for (let j = 0; j < 2; ++j) {\r\n          const str = this.inputs[attr][j].current.value.trim();\r\n          if (str === \"\") continue;\r\n          else if (isNaN(str)) {\r\n            alert(`${str} in range of ${attr} is not an integer`);\r\n            return;\r\n          } else {\r\n            range[j] = parseFloat(str);\r\n          }\r\n        }\r\n      }\r\n      ranges.push(range);\r\n      mask.push(this.props.mask[attr]);\r\n    }\r\n    let maxPoints;\r\n    const str = this.inputs.maxPoints.current.value.trim();\r\n    if (str === \"\") maxPoints = 1000;\r\n    else if (/\\d+/.test(str)) maxPoints = parseInt(str);\r\n    else {\r\n      alert(`${str} for Max No. of Cars is not an integer`);\r\n      return;\r\n    }\r\n    const candidates = selectCandidates(\r\n      this.props.points,\r\n      ranges,\r\n      mask,\r\n      maxPoints\r\n    );\r\n    if (candidates.length === 0) {\r\n      alert(\"No matching cars, try larger ranges\");\r\n      return;\r\n    }\r\n    this.props.startAlgorithm(candidates);\r\n  };\r\n\r\n  handleModeChange = event => {\r\n    this.props.changeMode(event.target.value);\r\n  };\r\n\r\n  render() {\r\n    const trs = this.props.attributes.map(([attr, config]) => {\r\n      const disabled = this.props.mask[attr] === 0;\r\n      const { low, high } = config;\r\n      return (\r\n        <tr key={attr}>\r\n          <td className=\"align-middle\">{attr}</td>\r\n          <td>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder={low}\r\n              ref={this.inputs[attr][0]}\r\n              disabled={disabled}\r\n            />\r\n          </td>\r\n          <td>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder={high}\r\n              ref={this.inputs[attr][1]}\r\n              disabled={disabled}\r\n            />\r\n          </td>\r\n          <td className=\"align-middle hidden\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={disabled}\r\n              onChange={() =>\r\n                this.props.toggleMask(attr, 1 - this.props.mask[attr])\r\n              }\r\n            />\r\n          </td>\r\n        </tr>\r\n      );\r\n    });\r\n    trs.push(\r\n      <tr key=\"other\">\r\n        <td className=\"align-middle font-weight-bold\">Max No. of Cars</td>\r\n        <td>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"1000\"\r\n            ref={this.inputs.maxPoints}\r\n          />\r\n        </td>\r\n        <td>\r\n          <div className=\"col form-inline align-items-center\">\r\n            <label className=\"mr-4 col-form-label font-weight-bold\">Mode</label>\r\n            <div className=\"mr-3 form-check form-check-inline\">\r\n              <input\r\n                className=\"form-check-input\"\r\n                type=\"radio\"\r\n                name=\"inlineRadioOptions\"\r\n                id=\"simplex\"\r\n                value=\"simplex\"\r\n                checked={this.props.mode === \"simplex\"}\r\n                onChange={this.handleModeChange}\r\n              />\r\n              <label className=\"form-check-label\" htmlFor=\"simplex\">\r\n                Simplex\r\n              </label>\r\n            </div>\r\n            <div className=\"form-check form-check-inline\">\r\n              <input\r\n                className=\"form-check-input\"\r\n                type=\"radio\"\r\n                name=\"inlineRadioOptions\"\r\n                id=\"random\"\r\n                value=\"random\"\r\n                checked={this.props.mode === \"random\"}\r\n                onChange={this.handleModeChange}\r\n              />\r\n              <label className=\"form-check-label\" htmlFor=\"random\">\r\n                Random\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </td>\r\n        <td />\r\n      </tr>\r\n    );\r\n    return (\r\n      <div className=\"text-center m-auto\" style={{ maxWidth: \"50rem\" }}>\r\n        <h1>Find Your Favorite!</h1>\r\n        <p className=\"lead text-muted\">\r\n          This is a demostration of an interactive system for finding your\r\n          favorite car in a used car database. <br />\r\n          Enter your acceptable range for each attribute (leave blank to use the\r\n          default). <br />\r\n          You will be presented two cars each time and you need to choose the\r\n          one you favor more. <br />\r\n          Click the \"Start\" button to find your favorite car in the database!{\" \"}\r\n          <br />\r\n        </p>\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th className=\"align-middle\">Attribute</th>\r\n              <th>Lower bound</th>\r\n              <th>Upper bound</th>\r\n              <th className=\"hidden\">Discard</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>{trs}</tbody>\r\n        </table>\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-primary\"\r\n            style={{ width: \"8rem\" }}\r\n            onClick={this.handleStart}\r\n          >\r\n            Start\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ attributes, mask, points, mode }) => ({\r\n  attributes,\r\n  mask,\r\n  points,\r\n  mode\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  startAlgorithm: candidates => {\r\n    dispatch(setCandidates(candidates));\r\n    dispatch(setActiveComponent(\"Interaction\"));\r\n  },\r\n  toggleMask: (attr, mask) => dispatch(toggleMask(attr, mask)),\r\n  changeMode: mode => dispatch(changeMode(mode))\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Welcome);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  setActiveComponent,\r\n  setLeftPoints,\r\n  prunePoints,\r\n  updateConvexHull\r\n} from \"../actions\";\r\nimport {\r\n  array2Vector2D,\r\n  vector2Array,\r\n  getPrunedIndices,\r\n  vector2Array2D\r\n} from \"../utils\";\r\n\r\nconst SIMPLEX = 2;\r\nconst RANDOM = 1;\r\n\r\nclass Interaction extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const smallerBetter = new window.Module.VectorInt();\r\n    this.attributes = [];\r\n    this.props.attributes.forEach(([attr, config]) => {\r\n      if (this.props.mask[attr]) {\r\n        smallerBetter.push_back(config.smallerBetter ? 1 : 0);\r\n        this.attributes.push(attr);\r\n      }\r\n    });\r\n    const candidatesVec = array2Vector2D(this.props.candidates);\r\n    this.runner = new window.Module.AlgorithmRunner(\r\n      candidatesVec,\r\n      smallerBetter,\r\n      this.props.mode === \"random\" ? RANDOM : SIMPLEX\r\n    );\r\n    candidatesVec.delete();\r\n    this.prevIndices = this.runner.getCandidatesIndices();\r\n    this.props.setLeftPoints(vector2Array(this.prevIndices));\r\n    if (this.prevIndices.size() < 2) {\r\n      this.state = { pair: [] };\r\n      this.stopInteraction();\r\n    } else {\r\n      const convexHullVertices = vector2Array2D(\r\n        window.Module.readConvexHullVertices()\r\n      );\r\n      this.props.updateConvexHull(convexHullVertices);\r\n      const indices = this.runner.nextPair();\r\n      this.state = {\r\n        pair: vector2Array(indices)\r\n      };\r\n    }\r\n  }\r\n\r\n  choose = idx => {\r\n    const option = idx + 1;\r\n    this.runner.choose(option);\r\n    const convexHullVertices = vector2Array2D(\r\n      window.Module.readConvexHullVertices()\r\n    );\r\n    this.props.updateConvexHull(convexHullVertices);\r\n    const currIndices = this.runner.getCandidatesIndices();\r\n    const prunedIndices = getPrunedIndices(this.prevIndices, currIndices);\r\n    const questioNo = this.props.numLeftPoints.length;\r\n    this.props.prunePoints(prunedIndices, questioNo);\r\n    this.prevIndices.delete();\r\n    this.prevIndices = currIndices;\r\n    if (currIndices.size() < 2) {\r\n      this.stopInteraction();\r\n    } else {\r\n      const indices = this.runner.nextPair();\r\n      this.setState({\r\n        pair: vector2Array(indices)\r\n      });\r\n    }\r\n  };\r\n\r\n  stopInteraction = () => {\r\n    this.prevIndices.delete();\r\n    this.runner.delete();\r\n    this.props.showResult();\r\n  };\r\n\r\n  render() {\r\n    const ths = [<th key=\"Option No.\">Option</th>];\r\n    this.attributes.forEach(attr => {\r\n      ths.push(<th key={attr}>{attr}</th>);\r\n    });\r\n    ths.push(<th key=\"chooseButton\" />);\r\n\r\n    const trs = this.state.pair.map((idx, i) => {\r\n      const tds = [<td key=\"Option No.\">{i + 1}</td>];\r\n      this.props.candidates[idx].forEach((x, j) => {\r\n        tds.push(<td key={j}>{x}</td>);\r\n      });\r\n      tds.push(\r\n        <td key=\"chooseButton\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-outline-success btn-sm\"\r\n            onClick={() => this.choose(i)}\r\n          >\r\n            Choose\r\n          </button>\r\n        </td>\r\n      );\r\n      return (\r\n        <tr key={i} data-toggle=\"tooltip\" title={this.props.labels[idx]}>\r\n          {tds}\r\n        </tr>\r\n      );\r\n    });\r\n    return (\r\n      <div>\r\n        <h2>Your Choice</h2>\r\n        <h4>\r\n          Q{this.props.numLeftPoints.length}: Choose the Car You Favor More\r\n          among the Following Options\r\n        </h4>\r\n        <div className=\"row justify-content-center align-items-center\">\r\n          <div className=\"col-md-8\">\r\n            <table className=\"table table-hover text-center\">\r\n              <thead>\r\n                <tr>{ths}</tr>\r\n              </thead>\r\n              <tbody>{trs}</tbody>\r\n            </table>\r\n          </div>\r\n          <div className=\"col-md-1\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-primary\"\r\n              onClick={this.stopInteraction}\r\n            >\r\n              Stop\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({\r\n  labels,\r\n  candidates,\r\n  mask,\r\n  attributes,\r\n  numLeftPoints,\r\n  mode\r\n}) => ({\r\n  labels,\r\n  candidates,\r\n  mask,\r\n  attributes,\r\n  numLeftPoints,\r\n  mode\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  showResult: () => {\r\n    dispatch(setActiveComponent(\"Result\"));\r\n  },\r\n  setLeftPoints: indices => {\r\n    dispatch(setLeftPoints(indices));\r\n  },\r\n  prunePoints: (indices, step) => {\r\n    dispatch(prunePoints(indices, step));\r\n  },\r\n  updateConvexHull: vertices => {\r\n    dispatch(updateConvexHull(vertices));\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Interaction);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  FlexibleXYPlot,\r\n  XAxis,\r\n  YAxis,\r\n  Hint,\r\n  VerticalBarSeries,\r\n  ChartLabel\r\n} from \"react-vis\";\r\n\r\nclass Histogram extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      hintValue: null\r\n    };\r\n  }\r\n\r\n  _onMouseLeave = () => {\r\n    this.setState({\r\n      hintValue: null\r\n    });\r\n  };\r\n\r\n  _onNearestX = (value, { index }) => {\r\n    this.setState({\r\n      hintValue: this.props.data[index]\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h4>No. of Cars Left vs. No. of Questions Asked</h4>\r\n        <div style={{ width: \"25rem\", height: \"25rem\" }}>\r\n          <FlexibleXYPlot onMouseLeave={this._onMouseLeave}>\r\n            <XAxis\r\n              tickValues={this.props.data.map((val, idx) => idx)}\r\n              tickFormat={value => value.toString()}\r\n              style={{\r\n                ticks: { fill: \"black\" }\r\n              }}\r\n            />\r\n            <YAxis\r\n              style={{\r\n                ticks: { fill: \"black\" }\r\n              }}\r\n            />\r\n            <ChartLabel\r\n              text=\"Question No.\"\r\n              includeMargin={false}\r\n              xPercent={0.82}\r\n              yPercent={1.06}\r\n              style={{\r\n                style: { fill: \"black\" }\r\n              }}\r\n            />\r\n            <ChartLabel\r\n              text=\"No. of Cars Left\"\r\n              includeMargin={false}\r\n              xPercent={-0.01}\r\n              yPercent={0.05}\r\n              style={{\r\n                transform: \"rotate(-90)\",\r\n                textAnchor: \"end\",\r\n                style: { fill: \"black\" }\r\n              }}\r\n            />\r\n            <VerticalBarSeries\r\n              color=\"rgb(0, 123, 255)\"\r\n              onNearestX={this._onNearestX}\r\n              data={this.props.data}\r\n              animation\r\n            />\r\n            {this.state.hintValue && (\r\n              <Hint value={this.state.hintValue}>\r\n                <p style={{ color: \"black\" }}>\r\n                  Q{this.state.hintValue.x}: {this.state.hintValue.y} Cars Left\r\n                </p>\r\n              </Hint>\r\n            )}\r\n          </FlexibleXYPlot>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ numLeftPoints }) => ({\r\n  data: numLeftPoints.map((num, i) => ({ x: i, y: num }))\r\n});\r\n\r\nexport default connect(mapStateToProps)(Histogram);\r\n","import * as THREE from \"three\";\r\nwindow.THREE = THREE;\r\nrequire(\"three/examples/js/controls/OrbitControls\");\r\nrequire(\"three/examples/js/QuickHull\");\r\nrequire(\"three/examples/js/geometries/ConvexGeometry\");\r\n\r\nexport default THREE;\r\n","import React from \"react\";\r\nimport THREE from \"./three\";\r\n\r\nconst SCALE = 100;\r\nconst FACTOR = 10; // font size = SCALE / FACTOR\r\n\r\nclass ConvexHull extends React.Component {\r\n  componentDidMount() {\r\n    const width = this.mount.clientWidth;\r\n    const height = this.mount.clientHeight;\r\n\r\n    this.scene = new THREE.Scene();\r\n\r\n    this.camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);\r\n    this.camera.position.set(1.5 * SCALE, 1.5 * SCALE, 0.5 * SCALE);\r\n    this.camera.up.set(0, 0, 1);\r\n    this.controls = new THREE.OrbitControls(this.camera, this.mount);\r\n    this.controls.update();\r\n\r\n    this.renderer = new THREE.WebGLRenderer({ antialias: true });\r\n    this.renderer.setClearColor(0xffffff);\r\n    this.renderer.setSize(width, height);\r\n    this.mount.appendChild(this.renderer.domElement);\r\n    this.addAxes();\r\n    this.drawGeometry();\r\n    this.start();\r\n  }\r\n\r\n  drawGeometry = () => {\r\n    if (this.props.vertices.length < 4) return;\r\n    const points = this.props.vertices.map(\r\n      vertex => {\r\n        const scaled_vertex = vertex.map(x => x * SCALE);\r\n        return new THREE.Vector3(...scaled_vertex);\r\n      }\r\n    );\r\n    const geometry = new THREE.ConvexGeometry(points);\r\n    const material = new THREE.MeshBasicMaterial({\r\n      color: 0xff0000,\r\n      //shading: THREE.FlatShading,\r\n      polygonOffset: true,\r\n      polygonOffsetFactor: 1, // positive value pushes polygon further away\r\n      polygonOffsetUnits: 1,\r\n      opacity: 0.5,\r\n      transparent: true\r\n    });\r\n    this.mesh = new THREE.Mesh(geometry, material);\r\n    const geo = new THREE.EdgesGeometry(geometry); // or WireframeGeometry\r\n    const mat = new THREE.LineBasicMaterial({ color: 0x000000, linewidth: 2 });\r\n    const wireframe = new THREE.LineSegments(geo, mat);\r\n    this.mesh.add(wireframe);\r\n    this.scene.add(this.mesh);\r\n  };\r\n\r\n  addAxes = () => {\r\n    const axes = new THREE.AxesHelper(1.5 * SCALE);\r\n    this.scene.add(axes);\r\n    const typeface = require('three/examples/fonts/helvetiker_regular.typeface.json');\r\n    const font = new THREE.Font(typeface);\r\n    let color = 0xff0000;\r\n    const meshes = [];\r\n    for(let i = 0; i < 3; ++i){\r\n      const shape = font.generateShapes(\"1\", SCALE / FACTOR);\r\n      const geometry = new THREE.ShapeBufferGeometry(shape);\r\n      const mesh = new THREE.Mesh(\r\n        geometry,\r\n        new THREE.MeshBasicMaterial({\r\n          color: color,\r\n          side: THREE.DoubleSide\r\n        })\r\n      )\r\n      this.scene.add(mesh);\r\n      color >>= 8;\r\n      meshes.push(mesh);\r\n    }\r\n    meshes[0].rotation.set(Math.PI / 2, Math.PI, 0);\r\n    meshes[0].position.set(SCALE + SCALE / (FACTOR * 2), 0, 0);\r\n    meshes[1].rotation.set(Math.PI / 2, Math.PI / 2, 0);\r\n    meshes[1].position.set(0, SCALE - SCALE / (FACTOR * 2), 0);\r\n    meshes[2].rotation.set(Math.PI / 2, Math.PI * 3 / 4, 0)\r\n    meshes[2].position.set(SCALE / (FACTOR * Math.sqrt(2)), - SCALE / (FACTOR * Math.sqrt(2)), SCALE)\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.vertices !== prevProps.vertices) {\r\n      if (this.mesh) {\r\n        this.scene.remove(this.mesh);\r\n        this.mesh.geometry.dispose();\r\n        this.mesh.material.dispose();\r\n      }\r\n      this.drawGeometry();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.stop();\r\n    this.mount.removeChild(this.renderer.domElement);\r\n  }\r\n\r\n  start = () => {\r\n    if (!this.frameId) {\r\n      this.frameId = window.requestAnimationFrame(this.animate);\r\n    }\r\n  };\r\n\r\n  stop = () => {\r\n    window.cancelAnimationFrame(this.frameId);\r\n  };\r\n\r\n  animate = () => {\r\n    this.controls.update();\r\n    this.renderer.render(this.scene, this.camera);\r\n    this.frameId = window.requestAnimationFrame(this.animate);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        style={{ width: \"25rem\", height: \"25rem\" }}\r\n        ref={mount => {\r\n          this.mount = mount;\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default ConvexHull;\r\n","import React from \"react\";\r\nimport Slider from \"react-slick\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faAngleUp, faAngleDown } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nfunction Line({ color }) {\r\n  return (\r\n    <div\r\n      style={{\r\n        width: \"100%\",\r\n        height: \"2rem\",\r\n        alignItems: \"center\",\r\n        display: \"flex\"\r\n      }}\r\n    >\r\n      <div style={{ width: \"100%\", height: \"2px\", backgroundColor: color }} />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction SlideItem({ text }) {\r\n  return (\r\n    <div\r\n      style={{\r\n        height: \"2rem\",\r\n        alignItems: \"center\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\"\r\n      }}\r\n    >\r\n      {text}\r\n    </div>\r\n  );\r\n}\r\n\r\nclass Legend extends React.Component {\r\n  render() {\r\n    const settings = {\r\n      dots: false,\r\n      infinite: true,\r\n      speed: 500,\r\n      slidesToShow: 3,\r\n      slidesToScroll: 1,\r\n      vertical: true,\r\n      verticalSwiping: true,\r\n      arrows: false,\r\n      swipeToSlide: true,\r\n      afterChange: this.props.changeStartingIndex\r\n    };\r\n    return (\r\n      <div\r\n        title=\"Each axis has a length of 1. Click the arrows to change the selected\r\n      attributes for displaying convex hull.\"\r\n        style={{\r\n          width: \"12rem\"\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            alignItems: \"center\",\r\n            width: \"4rem\",\r\n            display: \"inline-block\",\r\n            verticalAlign: \"middle\"\r\n          }}\r\n        >\r\n          <Line color=\"#ff0000\" />\r\n          <Line color=\"#00ff00\" />\r\n          <Line color=\"#0000ff\" />\r\n        </div>\r\n        <div\r\n          style={{\r\n            width: \"8rem\",\r\n            display: \"inline-block\",\r\n            verticalAlign: \"middle\"\r\n          }}\r\n        >\r\n          <div\r\n            onClick={() => this.slider.slickPrev()}\r\n            style={{ cursor: \"pointer\" }}\r\n          >\r\n            <FontAwesomeIcon icon={faAngleUp} />\r\n          </div>\r\n          <Slider {...settings} ref={self => (this.slider = self)}>\r\n            <SlideItem text=\"Price (USD)\" />\r\n            <SlideItem text=\"Year\" />\r\n            <SlideItem text=\"Power (HP)\" />\r\n            <SlideItem text=\"Used KM\" />\r\n          </Slider>\r\n          <div\r\n            onClick={() => this.slider.slickNext()}\r\n            style={{ cursor: \"pointer\" }}\r\n          >\r\n            <FontAwesomeIcon icon={faAngleDown} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Legend;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport ConvexHull from \"./ConvexHull\";\r\nimport Legend from \"./Legend\";\r\n\r\nclass PreferencePlane extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      index: 0,\r\n      convexHullVertices: props.vertices.map(vert => vert.slice(0, 3))\r\n    };\r\n  }\r\n\r\n  updateContextHullVertices = index => {\r\n    const convexHullVertices = this.props.vertices.map(vertext => {\r\n      const vert = [];\r\n      for (let i = 0; i < 3; ++i) {\r\n        vert.push(vertext[(i + index) % 4]);\r\n      }\r\n      return vert;\r\n    });\r\n    this.setState({ convexHullVertices });\r\n  };\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.vertices !== prevProps.vertices) {\r\n      this.updateContextHullVertices(this.state.index);\r\n    }\r\n  }\r\n\r\n  changeStartingIndex = index => {\r\n    this.setState({ index });\r\n    // explicitly pass index to this.updateContextHullVertices\r\n    // because this.state.index is not updated immediately,\r\n    // i.e., this.state.index has still the old value at this line.\r\n    this.updateContextHullVertices(index);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h4>Convex Hull of Preference Plane</h4>\r\n        <ConvexHull vertices={this.state.convexHullVertices} />\r\n        <div style={{ position: \"absolute\", top: \"2rem\", left: \"20rem\" }}>\r\n          <Legend changeStartingIndex={this.changeStartingIndex} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ vertices }) => ({ vertices });\r\n\r\nexport default connect(mapStateToProps)(PreferencePlane);\r\n","import React from \"react\";\r\nimport Histogram from \"./Histogram\";\r\nimport PreferencePlane from \"./PreferencePlane\";\r\n\r\nfunction Visuals() {\r\n  return (\r\n    <div>\r\n      <h2>Visuals</h2>\r\n      <div className=\"row justify-content-center\">\r\n        <div className=\"col-6\" style={{ minWidth: \"500px\" }}>\r\n          <Histogram />\r\n        </div>\r\n        <div className=\"col-6\" style={{ minWidth: \"500px\" }}>\r\n          <PreferencePlane />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Visuals;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport classNames from \"classnames\";\r\n\r\nclass Stats extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.attributes = [];\r\n    this.props.attributes.forEach(([attr, config]) => {\r\n      if (this.props.mask[attr]) {\r\n        this.attributes.push(attr);\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let ths = [<th key=\"Step No.\">Step</th>];\r\n    this.attributes.forEach(attr => {\r\n      ths.push(<th key={attr}>{attr}</th>);\r\n    });\r\n    const prunedTrs = this.props.prunedPoints.map(([idx, step], i) => (\r\n      <tr key={i} data-toggle=\"tooltip\" title={this.props.labels[idx]}>\r\n        {[step, ...this.props.candidates[idx]].map((x, j) => (\r\n          <td key={j}>{x}</td>\r\n        ))}\r\n      </tr>\r\n    ));\r\n    const leftTrs = this.props.leftPoints.map((idx, i) => (\r\n      <tr key={i} data-toggle=\"tooltip\" title={this.props.labels[idx]}>\r\n        {this.props.candidates[idx].map((x, j) => (\r\n          <td key={j}>{x}</td>\r\n        ))}\r\n      </tr>\r\n    ));\r\n    return (\r\n      <div>\r\n        <h2>Statistics</h2>\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <h4>The No. of Cars Pruned: {this.props.prunedPoints.length}</h4>\r\n            <table\r\n              className={classNames(\"table\", \"table-hover\", {\r\n                \"table-fixed\": prunedTrs.length > 7\r\n              })}\r\n              style={{\r\n                minWidth: '37rem'\r\n              }}\r\n            >\r\n              <thead>\r\n                <tr>{ths}</tr>\r\n              </thead>\r\n              <tbody>{prunedTrs}</tbody>\r\n            </table>\r\n          </div>\r\n          <div className=\"col\">\r\n            <h4>\r\n              The No. of Cars Left in the Database:{\" \"}\r\n              {this.props.leftPoints.length}\r\n            </h4>\r\n            <table\r\n              className={classNames(\"table\", \"table-hover\", {\r\n                \"table-fixed\": leftTrs.length > 7\r\n              })}\r\n              style={{\r\n                minWidth: '30rem'\r\n              }}\r\n            >\r\n              <thead>\r\n                <tr>{ths.slice(1)}</tr>\r\n              </thead>\r\n              <tbody>{leftTrs}</tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToPropsStats = ({\r\n  labels,\r\n  candidates,\r\n  prunedPoints,\r\n  leftPoints,\r\n  attributes,\r\n  mask\r\n}) => ({\r\n  labels,\r\n  candidates,\r\n  prunedPoints,\r\n  leftPoints,\r\n  attributes,\r\n  mask\r\n});\r\n\r\nexport default connect(mapStateToPropsStats)(Stats);\r\n","import React from \"react\";\r\nimport Question from \"./Question\";\r\nimport Visuals from \"./Visuals\";\r\nimport Stats from \"./Stats\";\r\n\r\nfunction Interaction() {\r\n  return (\r\n    <div>\r\n      <Question />\r\n      <Visuals />\r\n      <Stats />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Interaction;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport classNames from \"classnames\";\r\nimport { setActiveComponent, restart } from \"../actions\";\r\nimport Histogram from \"./Histogram\";\r\n\r\nfunction Result({\r\n  labels,\r\n  candidates,\r\n  leftPoints,\r\n  attributes,\r\n  mask,\r\n  numLeftPoints,\r\n  restart\r\n}) {\r\n  let ths = [];\r\n  attributes.forEach(([attr, config]) => {\r\n    if (mask[attr]) {\r\n      const th = <th key={attr}>{attr}</th>;\r\n      ths.push(th);\r\n    }\r\n  });\r\n  const trs = leftPoints.map((idx, i) => (\r\n    <tr key={i} data-toggle=\"tooltip\" title={labels[idx]}>\r\n      {candidates[idx].map((x, j) => (\r\n        <td key={j}>{x}</td>\r\n      ))}\r\n    </tr>\r\n  ));\r\n  return (\r\n    <div className=\"justify-content-center\">\r\n      <h4>The Total No. of Questions Asked is: {numLeftPoints.length - 1}.</h4>\r\n      <h4>\r\n        {leftPoints.length === 1\r\n          ? \"Your Favourite Car is:\"\r\n          : `${leftPoints.length} Cars Left in the Database:`}\r\n      </h4>\r\n      <table\r\n        className={classNames(\"table\", \"table-hover\", {\r\n          \"table-fixed\": trs.length > 7\r\n        })}\r\n        style={{\r\n          maxWidth: '40rem',\r\n          margin: 'auto'\r\n        }}\r\n      >\r\n        <thead>\r\n          <tr>{ths}</tr>\r\n        </thead>\r\n        <tbody>{trs}</tbody>\r\n      </table>\r\n      <div className=\"d-flex justify-content-center my-3\">\r\n        <Histogram />\r\n      </div>\r\n      <div>\r\n        <button type=\"button\" className=\"btn btn-primary\" onClick={restart}>\r\n          Return to Welcome\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = ({\r\n  labels,\r\n  candidates,\r\n  leftPoints,\r\n  attributes,\r\n  mask,\r\n  numLeftPoints\r\n}) => ({\r\n  labels,\r\n  candidates,\r\n  leftPoints,\r\n  attributes,\r\n  mask,\r\n  numLeftPoints\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  restart: () => {\r\n    dispatch(setActiveComponent(\"Welcome\"));\r\n    dispatch(restart());\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Result);\r\n","import React from \"react\";\r\nimport Welcome from \"./Welcome\";\r\nimport Interaction from \"./Interaction\";\r\nimport Result from \"./Result\";\r\nimport { connect } from \"react-redux\";\r\n\r\nfunction App({ activeComponent }) {\r\n  switch (activeComponent) {\r\n    case \"Welcome\":\r\n      return <Welcome />;\r\n    case \"Interaction\":\r\n      return <Interaction />;\r\n    case \"Result\":\r\n      return <Result />;\r\n    default:\r\n      return <div />;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ activeComponent }) => ({\r\n  activeComponent\r\n});\r\n\r\nexport default connect(mapStateToProps)(App);\r\n","import { createStore } from \"redux\";\r\nimport rootReducer from \"./reducers\";\r\nimport React from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport App from \"./components/App\";\r\nimport { loadDataset } from \"./utils\";\r\n\r\nwindow.Module = {\r\n  onRuntimeInitialized: async function() {\r\n    const [points, labels] = await loadDataset(\r\n      \"./datasets/cars.txt\",\r\n      \"./datasets/labelsOfCars.txt\"\r\n    );\r\n    const attributes = [\r\n      [\"Price (USD)\", { low: 1000, high: 50000, smallerBetter: true }],\r\n      [\"Year\", { low: 2001, high: 2017, smallerBetter: false }],\r\n      [\"Power (HP)\", { low: 50, high: 400, smallerBetter: false }],\r\n      [\"Used KM\", { low: 10000, high: 150000, smallerBetter: true }]\r\n    ];\r\n    const mask = {};\r\n    attributes.forEach(([attr, config]) => {\r\n      mask[attr] = 1;\r\n    });\r\n\r\n    const store = createStore(\r\n      rootReducer,\r\n      { points, labels, attributes, mask },\r\n      // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n    );\r\n    render(\r\n      <Provider store={store}>\r\n        <App />\r\n      </Provider>,\r\n      document.getElementById(\"root\")\r\n    );\r\n  }\r\n};\r\n\r\nconst script = document.createElement(\"script\");\r\nscript.src = \"web.js\";\r\nscript.async = true;\r\ndocument.body.appendChild(script);\r\n"],"sourceRoot":""}