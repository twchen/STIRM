{"version":3,"sources":["actions/index.js","reducers/index.js","utils.js","components/Welcome.js","components/Question.js","components/Histogram.js","components/three.js","components/ConvexHull.js","components/Legend.js","components/PreferenceSpace.js","components/Visuals.js","components/Stats.js","components/Interaction.js","components/Result.js","components/App.js","index.js"],"names":["setActiveComponent","component","type","combineReducers","activeComponent","state","arguments","length","undefined","action","points","labels","attributes","candidates","mask","forEach","_ref","_ref2","Object","slicedToArray","attr","objectSpread","prunedPoints","indices","map","idx","step","concat","toConsumableArray","leftPoints","filter","indexOf","numLeftPoints","prev","mode","vertices","parsePoints","text","trim","split","slice","line","str","parseFloat","parseLabels","loadDataset","asyncToGenerator","regenerator_default","a","mark","_callee","pointsURL","labelsURL","response","wrap","_context","next","fetch","sent","t0","t1","abrupt","t2","t3","stop","_x","_x2","apply","this","selectCandidates","ranges","maxPoints","val","low","high","i","point","isValid","j","push","array2Vector2D","array","vector","window","Module","VecVecDouble","arr","vec","VectorDouble","x","push_back","delete","vector2Array2D","size","get","vector2Array","getPrunedIndices","prevIndices","currIndices","prunedIndices","Welcome","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleStart","_this$props$attribute","config","range","inputs","current","value","isNaN","alert","test","parseInt","startAlgorithm","handleModeChange","event","changeMode","target","React","createRef","_this2","trs","_ref3","_ref4","disabled","react_default","createElement","key","className","placeholder","ref","checked","onChange","toggleMask","name","id","htmlFor","style","maxWidth","width","onClick","Component","connect","_ref5","dispatch","setCandidates","defineProperty","SIMPLEX","RANDOM","Question","choose","option","runner","convexHullVertices","readConvexHullVertices","updateConvexHull","getCandidatesIndices","questioNo","prunePoints","stopInteraction","nextPair","setState","pair","showResult","smallerBetter","VectorInt","candidatesVec","AlgorithmRunner","setLeftPoints","ths","tds","data-toggle","title","Histogram","_onMouseLeave","hintValue","_onNearestX","index","data","height","react_vis_es","onMouseLeave","tickValues","tickFormat","toString","ticks","fill","includeMargin","xPercent","yPercent","transform","textAnchor","color","onNearestX","animation","y","num","THREE","require","SCALE","FACTOR","ConvexHull","drawGeometry","vertex","scaled_vertex","construct","Vector3","geometry","ConvexGeometry","material","MeshBasicMaterial","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","opacity","transparent","mesh","Mesh","geo","EdgesGeometry","mat","LineBasicMaterial","linewidth","wireframe","LineSegments","add","scene","addAxes","axes","AxesHelper","typeface","font","Font","Math","PI","sqrt","_mesh$position","_mesh$rotation","position","rotation","shape","generateShapes","ShapeBufferGeometry","side","DoubleSide","set","lines","_line$position","_line$rotation","Geometry","Line","start","frameId","requestAnimationFrame","animate","cancelAnimationFrame","controls","update","renderer","render","camera","mount","clientWidth","clientHeight","Scene","PerspectiveCamera","up","OrbitControls","WebGLRenderer","antialias","setClearColor","setSize","appendChild","domElement","prevProps","remove","dispose","removeChild","alignItems","display","backgroundColor","SlideItem","justifyContent","Legend","settings","dots","infinite","speed","slidesToShow","slidesToScroll","vertical","verticalSwiping","arrows","swipeToSlide","afterChange","changeStartingIndex","verticalAlign","slider","slickPrev","cursor","index_es","icon","faAngleUp","lib_default","assign","self","slickNext","faAngleDown","PreferenceSpace","updateContextHullVertices","vertext","vert","components_ConvexHull","top","left","components_Legend","Visuals","minWidth","components_Histogram","components_PreferenceSpace","Stats","prunedTrs","leftTrs","classNames","table-fixed","Interaction","components_Question","components_Visuals","components_Stats","restart","th","margin","components_Welcome","components_Interaction","components_Result","onRuntimeInitialized","_onRuntimeInitialized","store","createStore","rootReducer","es","components_App","document","getElementById","script","src","async","body"],"mappings":"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","file":"static/js/main.904ba72c.chunk.js","sourcesContent":["export const SET_ACTIVE_COMPONENT = \"SET_ACTIVE_COMPONENT\";\r\nexport const SET_CANDIDATES = \"SET_CANDIDATES\";\r\nexport const SET_DATASET = \"SET_DATASET\";\r\nexport const TOGGLE_MASK = \"TOGGLE_MASK\";\r\nexport const PRUNE_POINTS = \"PRUNE_POINTS\";\r\nexport const SET_LEFT_POINTS = \"SET_LEFT_POINTS\";\r\nexport const SET_MODE = \"SET_MODE\";\r\nexport const RESTART = \"RESTART\";\r\nexport const UPDATE_CONVEX_HULL = \"UPDATE_CONVEX_HULL\";\r\n\r\nexport const setActiveComponent = component => ({\r\n  type: SET_ACTIVE_COMPONENT,\r\n  component\r\n});\r\n\r\nexport const setCandidates = candidates => ({\r\n  type: SET_CANDIDATES,\r\n  candidates\r\n});\r\n\r\nexport const setDataset = (points, labels, attributes) => ({\r\n  type: SET_DATASET,\r\n  points,\r\n  labels,\r\n  attributes\r\n});\r\n\r\nexport const toggleMask = (attr, val) => ({\r\n  type: TOGGLE_MASK,\r\n  mask: { [attr]: val }\r\n});\r\n\r\nexport const prunePoints = (indices, step) => ({\r\n  type: PRUNE_POINTS,\r\n  indices,\r\n  step\r\n});\r\n\r\nexport const setLeftPoints = indices => ({\r\n  type: SET_LEFT_POINTS,\r\n  indices\r\n});\r\n\r\nexport const changeMode = mode => ({\r\n  type: SET_MODE,\r\n  mode\r\n});\r\n\r\nexport const restart = () => ({\r\n  type: RESTART\r\n});\r\n\r\nexport const updateConvexHull = vertices => ({\r\n  type: UPDATE_CONVEX_HULL,\r\n  vertices\r\n});\r\n","import { combineReducers } from \"redux\";\r\nimport {\r\n  SET_ACTIVE_COMPONENT,\r\n  SET_DATASET,\r\n  SET_CANDIDATES,\r\n  TOGGLE_MASK,\r\n  SET_LEFT_POINTS,\r\n  PRUNE_POINTS,\r\n  SET_MODE,\r\n  RESTART,\r\n  UPDATE_CONVEX_HULL\r\n} from \"../actions\";\r\n\r\nconst activeComponent = (state = \"Welcome\", action) => {\r\n  switch (action.type) {\r\n    case SET_ACTIVE_COMPONENT:\r\n      return action.component;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// all points in the dataset\r\nconst points = (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_DATASET:\r\n      return action.points;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// the labels of points\r\nconst labels = (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_DATASET:\r\n      return action.labels;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// the attribute names\r\nconst attributes = (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_DATASET:\r\n      return action.attributes;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// the set of points in the specified ranges.\r\nconst candidates = (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_CANDIDATES:\r\n      return action.candidates;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// show/hide attributes (this feature is not exposed in the UI)\r\nconst mask = (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_DATASET:\r\n      const mask = {};\r\n      action.attributes.forEach(([attr, config]) => {\r\n        mask[attr] = 1;\r\n      });\r\n      return mask;\r\n    case TOGGLE_MASK:\r\n      return { ...state, ...action.mask };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// the set of points pruned.\r\n// it is an array of [idx, step no.]\r\nconst prunedPoints = (state = [], action) => {\r\n  switch (action.type) {\r\n    case RESTART:\r\n      return [];\r\n    case PRUNE_POINTS:\r\n      const points = action.indices.map(idx => [idx, action.step]);\r\n      return [...points, ...state];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// the set of candidate points\r\n// it is an array of indices\r\nconst leftPoints = (state = [], action) => {\r\n  switch (action.type) {\r\n    case RESTART:\r\n      return [];\r\n    case SET_LEFT_POINTS:\r\n      return action.indices;\r\n    case PRUNE_POINTS:\r\n      return state.filter(idx => action.indices.indexOf(idx) === -1);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// history of the number of left points\r\nconst numLeftPoints = (state = [], action) => {\r\n  switch (action.type) {\r\n    case SET_LEFT_POINTS:\r\n      return [action.indices.length];\r\n    case PRUNE_POINTS:\r\n      const prev = state[state.length - 1];\r\n      return [...state, prev - action.indices.length];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// the algorithm to select a pair of points.\r\nconst mode = (state = \"simplex\", action) => {\r\n  switch (action.type) {\r\n    case SET_MODE:\r\n      return action.mode;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// vertices of the convex hull of the preference space.\r\nconst vertices = (state = [], action) => {\r\n  switch (action.type) {\r\n    case UPDATE_CONVEX_HULL:\r\n      return action.vertices;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default combineReducers({\r\n  activeComponent,\r\n  points,\r\n  labels,\r\n  attributes,\r\n  candidates,\r\n  mask,\r\n  prunedPoints,\r\n  leftPoints,\r\n  numLeftPoints,\r\n  mode,\r\n  vertices\r\n});\r\n","// read points from a text file\nfunction parsePoints(text) {\n  const points = text\n    .trim()\n    .split(\"\\n\")\n    .slice(1) // the first line is <numOfPoints> <dimension>\n    .map(line =>\n      line\n        .trim()\n        .split(/\\s+/)\n        .map(str => parseFloat(str))\n    );\n  return points;\n}\n\n// read labels from a text file\nfunction parseLabels(text) {\n  const labels = text.trim().split(\"\\n\");\n  return labels;\n}\n\n// check if val is in the range [low, high].\nfunction isInRange(val, low, high) {\n  return low <= val && val <= high;\n}\n\n// get the range of each attribute in a set of points.\nexport const getRanges = points => {\n  const ranges = points[0].map(x => ({ low: x, high: x }));\n  points.slice(1).forEach(point => {\n    point.forEach((x, i) => {\n      ranges[i].low = Math.min(ranges[i].low, x);\n      ranges[i].high = Math.max(ranges[i].high, x);\n    });\n  });\n  return ranges;\n};\n\n// load a dataset by reading its points and labels.\nexport const loadDataset = async (pointsURL, labelsURL) => {\n  let response = await fetch(pointsURL);\n  const points = parsePoints(await response.text());\n  if (labelsURL === undefined) {\n    return points;\n  }\n  response = await fetch(labelsURL);\n  const labels = parseLabels(await response.text());\n  return [points, labels];\n};\n\n// get points that are in the specified ranges.\nexport const selectCandidates = (points, ranges, mask, maxPoints) => {\n  const candidates = [];\n  for (let i = 0; i < points.length; ++i) {\n    if (candidates.length >= maxPoints) break;\n    const point = points[i];\n    let isValid = true;\n    for (let j = 0; j < point.length; ++j) {\n      if (mask[j] && !isInRange(point[j], ranges[j][0], ranges[j][1])) {\n        isValid = false;\n        break;\n      }\n    }\n    if (isValid) candidates.push(point);\n  }\n  return candidates;\n};\n\n// convert a JS array to a C++ 2D vector\nexport const array2Vector2D = array => {\n  const vector = new window.Module.VecVecDouble();\n  array.forEach(arr => {\n    const vec = new window.Module.VectorDouble();\n    arr.forEach(x => vec.push_back(x));\n    vector.push_back(vec);\n    vec.delete();\n  });\n  return vector;\n};\n\n// convert a C++ 2D vector to a JS array\nexport const vector2Array2D = vector => {\n  const array = [];\n  for (let i = 0; i < vector.size(); ++i) {\n    const vec = vector.get(i);\n    const arr = [];\n    for (let j = 0; j < vec.size(); ++j) arr.push(vec.get(j));\n    array.push(arr);\n  }\n  return array;\n};\n\n// convert a C++ vector to a JS array\nexport const vector2Array = vector => {\n  const array = [];\n  for (let i = 0; i < vector.size(); ++i) {\n    array.push(vector.get(i));\n  }\n  return array;\n};\n\n// get the indices of points pruned.\n// both prevIndices and currIndices need to be sorted.\nexport const getPrunedIndices = (prevIndices, currIndices) => {\n  let prunedIndices = [];\n  for (let i = 0, j = 0; i < prevIndices.size() || j < currIndices.size(); ) {\n    if (j >= currIndices.size() || prevIndices.get(i) < currIndices.get(j)) {\n      prunedIndices.push(prevIndices.get(i));\n      ++i;\n    } else {\n      ++i;\n      ++j;\n    }\n  }\n  return prunedIndices;\n};\n","import React from \"react\";\r\nimport {\r\n  setActiveComponent,\r\n  setCandidates,\r\n  toggleMask,\r\n  changeMode\r\n} from \"../actions\";\r\nimport { connect } from \"react-redux\";\r\nimport { selectCandidates } from \"../utils\";\r\n\r\n// the welcome scene containing a brief introduction and a table to obtain the user's input\r\nclass Welcome extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.inputs = {};\r\n    this.props.attributes.forEach(([attr, config]) => {\r\n      this.inputs[attr] = [React.createRef(), React.createRef()];\r\n    });\r\n    this.inputs.maxPoints = React.createRef();\r\n  }\r\n\r\n  handleStart = () => {\r\n    const ranges = [];\r\n    const mask = [];\r\n    for (let i = 0; i < this.props.attributes.length; ++i) {\r\n      const [attr, config] = this.props.attributes[i];\r\n      const range = [config.low, config.high];\r\n      if (this.props.mask[attr]) {\r\n        for (let j = 0; j < 2; ++j) {\r\n          const str = this.inputs[attr][j].current.value.trim();\r\n          if (str === \"\") continue;\r\n          else if (isNaN(str)) {\r\n            alert(`${str} in range of ${attr} is not an integer`);\r\n            return;\r\n          } else {\r\n            range[j] = parseFloat(str);\r\n          }\r\n        }\r\n      }\r\n      ranges.push(range);\r\n      mask.push(this.props.mask[attr]);\r\n    }\r\n    let maxPoints;\r\n    const str = this.inputs.maxPoints.current.value.trim();\r\n    if (str === \"\") maxPoints = 1000;\r\n    else if (/\\d+/.test(str)) maxPoints = parseInt(str);\r\n    else {\r\n      alert(`${str} for Max No. of Cars is not an integer`);\r\n      return;\r\n    }\r\n    const candidates = selectCandidates(\r\n      this.props.points,\r\n      ranges,\r\n      mask,\r\n      maxPoints\r\n    );\r\n    if (candidates.length === 0) {\r\n      alert(\"No matching cars, try larger ranges\");\r\n      return;\r\n    }\r\n    this.props.startAlgorithm(candidates);\r\n  };\r\n\r\n  handleModeChange = event => {\r\n    this.props.changeMode(event.target.value);\r\n  };\r\n\r\n  render() {\r\n    const trs = this.props.attributes.map(([attr, config]) => {\r\n      const disabled = this.props.mask[attr] === 0;\r\n      const { low, high } = config;\r\n      return (\r\n        <tr key={attr}>\r\n          <td className=\"align-middle\">{attr}</td>\r\n          <td>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder={low}\r\n              ref={this.inputs[attr][0]}\r\n              disabled={disabled}\r\n            />\r\n          </td>\r\n          <td>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder={high}\r\n              ref={this.inputs[attr][1]}\r\n              disabled={disabled}\r\n            />\r\n          </td>\r\n          <td className=\"align-middle hidden\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={disabled}\r\n              onChange={() =>\r\n                this.props.toggleMask(attr, 1 - this.props.mask[attr])\r\n              }\r\n            />\r\n          </td>\r\n        </tr>\r\n      );\r\n    });\r\n    trs.push(\r\n      <tr key=\"other\">\r\n        <td className=\"align-middle font-weight-bold\">Max No. of Cars</td>\r\n        <td>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"1000\"\r\n            ref={this.inputs.maxPoints}\r\n          />\r\n        </td>\r\n        <td>\r\n          <div className=\"col form-inline align-items-center\">\r\n            <label className=\"mr-4 col-form-label font-weight-bold\">Mode</label>\r\n            <div className=\"mr-3 form-check form-check-inline\">\r\n              <input\r\n                className=\"form-check-input\"\r\n                type=\"radio\"\r\n                name=\"inlineRadioOptions\"\r\n                id=\"simplex\"\r\n                value=\"simplex\"\r\n                checked={this.props.mode === \"simplex\"}\r\n                onChange={this.handleModeChange}\r\n              />\r\n              <label className=\"form-check-label\" htmlFor=\"simplex\">\r\n                Simplex\r\n              </label>\r\n            </div>\r\n            <div className=\"form-check form-check-inline\">\r\n              <input\r\n                className=\"form-check-input\"\r\n                type=\"radio\"\r\n                name=\"inlineRadioOptions\"\r\n                id=\"random\"\r\n                value=\"random\"\r\n                checked={this.props.mode === \"random\"}\r\n                onChange={this.handleModeChange}\r\n              />\r\n              <label className=\"form-check-label\" htmlFor=\"random\">\r\n                Random\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </td>\r\n        <td />\r\n      </tr>\r\n    );\r\n    return (\r\n      <div className=\"text-center m-auto\" style={{ maxWidth: \"50rem\" }}>\r\n        <h1>Find Your Favorite!</h1>\r\n        <p className=\"lead text-muted\">\r\n          This is a demostration of an interactive system for finding your\r\n          favorite car in a used car database. <br />\r\n          Enter your acceptable range for each attribute (leave blank to use the\r\n          default). <br />\r\n          You will be presented two cars each time and you need to choose the\r\n          one you favor more. <br />\r\n          Click the \"Start\" button to find your favorite car in the database!{\" \"}\r\n          <br />\r\n        </p>\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th className=\"align-middle\">Attribute</th>\r\n              <th>Lower bound</th>\r\n              <th>Upper bound</th>\r\n              <th className=\"hidden\">Discard</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>{trs}</tbody>\r\n        </table>\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-primary\"\r\n            style={{ width: \"8rem\" }}\r\n            onClick={this.handleStart}\r\n          >\r\n            Start\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ attributes, mask, points, mode }) => ({\r\n  attributes,\r\n  mask,\r\n  points,\r\n  mode\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  startAlgorithm: candidates => {\r\n    dispatch(setCandidates(candidates));\r\n    dispatch(setActiveComponent(\"Interaction\"));\r\n  },\r\n  toggleMask: (attr, mask) => dispatch(toggleMask(attr, mask)),\r\n  changeMode: mode => dispatch(changeMode(mode))\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Welcome);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  setActiveComponent,\r\n  setLeftPoints,\r\n  prunePoints,\r\n  updateConvexHull\r\n} from \"../actions\";\r\nimport {\r\n  array2Vector2D,\r\n  vector2Array,\r\n  getPrunedIndices,\r\n  vector2Array2D\r\n} from \"../utils\";\r\n\r\nconst SIMPLEX = 2;\r\nconst RANDOM = 1;\r\n\r\n// iteratively ask the user to choose the preferred car from a pair of cars.\r\nclass Question extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const smallerBetter = new window.Module.VectorInt();\r\n    this.attributes = [];\r\n    this.props.attributes.forEach(([attr, config]) => {\r\n      if (this.props.mask[attr]) {\r\n        smallerBetter.push_back(config.smallerBetter ? 1 : 0);\r\n        this.attributes.push(attr);\r\n      }\r\n    });\r\n    const candidatesVec = array2Vector2D(this.props.candidates);\r\n    this.runner = new window.Module.AlgorithmRunner(\r\n      candidatesVec,\r\n      smallerBetter,\r\n      this.props.mode === \"random\" ? RANDOM : SIMPLEX\r\n    );\r\n    candidatesVec.delete();\r\n    this.prevIndices = this.runner.getCandidatesIndices();\r\n    this.props.setLeftPoints(vector2Array(this.prevIndices));\r\n    if (this.prevIndices.size() < 2) {\r\n      this.state = { pair: [] };\r\n      this.stopInteraction();\r\n    } else {\r\n      const vec = window.Module.readConvexHullVertices();\r\n      const convexHullVertices = vector2Array2D(vec);\r\n      vec.delete();\r\n      this.props.updateConvexHull(convexHullVertices);\r\n      const indices = this.runner.nextPair();\r\n      this.state = {\r\n        pair: vector2Array(indices)\r\n      };\r\n    }\r\n  }\r\n\r\n  choose = idx => {\r\n    const option = idx + 1;\r\n    this.runner.choose(option);\r\n    const convexHullVertices = vector2Array2D(\r\n      window.Module.readConvexHullVertices()\r\n    );\r\n    this.props.updateConvexHull(convexHullVertices);\r\n    const currIndices = this.runner.getCandidatesIndices();\r\n    const prunedIndices = getPrunedIndices(this.prevIndices, currIndices);\r\n    const questioNo = this.props.numLeftPoints.length;\r\n    this.props.prunePoints(prunedIndices, questioNo);\r\n    this.prevIndices.delete();\r\n    this.prevIndices = currIndices;\r\n    if (currIndices.size() < 2) {\r\n      this.stopInteraction();\r\n    } else {\r\n      const indices = this.runner.nextPair();\r\n      this.setState({\r\n        pair: vector2Array(indices)\r\n      });\r\n    }\r\n  };\r\n\r\n  stopInteraction = () => {\r\n    this.prevIndices.delete();\r\n    this.runner.delete();\r\n    this.props.showResult();\r\n  };\r\n\r\n  render() {\r\n    const ths = [<th key=\"Option No.\">Option</th>];\r\n    this.attributes.forEach(attr => {\r\n      ths.push(<th key={attr}>{attr}</th>);\r\n    });\r\n    ths.push(<th key=\"chooseButton\" />);\r\n\r\n    const trs = this.state.pair.map((idx, i) => {\r\n      const tds = [<td key=\"Option No.\">{i + 1}</td>];\r\n      this.props.candidates[idx].forEach((x, j) => {\r\n        tds.push(<td key={j}>{x}</td>);\r\n      });\r\n      tds.push(\r\n        <td key=\"chooseButton\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-outline-success btn-sm\"\r\n            onClick={() => this.choose(i)}\r\n          >\r\n            Choose\r\n          </button>\r\n        </td>\r\n      );\r\n      return (\r\n        <tr key={i} data-toggle=\"tooltip\" title={this.props.labels[idx]}>\r\n          {tds}\r\n        </tr>\r\n      );\r\n    });\r\n    return (\r\n      <div>\r\n        <h2>Your Choice</h2>\r\n        <h4>\r\n          Q{this.props.numLeftPoints.length}: Choose the Car You Favor More\r\n          among the Following Options\r\n        </h4>\r\n        <div className=\"row justify-content-center align-items-center\">\r\n          <div className=\"col-md-8\">\r\n            <table className=\"table table-hover text-center\">\r\n              <thead>\r\n                <tr>{ths}</tr>\r\n              </thead>\r\n              <tbody>{trs}</tbody>\r\n            </table>\r\n          </div>\r\n          <div className=\"col-md-1\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-primary\"\r\n              onClick={this.stopInteraction}\r\n            >\r\n              Stop\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({\r\n  labels,\r\n  candidates,\r\n  mask,\r\n  attributes,\r\n  numLeftPoints,\r\n  mode\r\n}) => ({\r\n  labels,\r\n  candidates,\r\n  mask,\r\n  attributes,\r\n  numLeftPoints,\r\n  mode\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  showResult: () => {\r\n    dispatch(setActiveComponent(\"Result\"));\r\n  },\r\n  setLeftPoints: indices => {\r\n    dispatch(setLeftPoints(indices));\r\n  },\r\n  prunePoints: (indices, step) => {\r\n    dispatch(prunePoints(indices, step));\r\n  },\r\n  updateConvexHull: vertices => {\r\n    dispatch(updateConvexHull(vertices));\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Question);\r\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  FlexibleXYPlot,\n  XAxis,\n  YAxis,\n  Hint,\n  VerticalBarSeries,\n  ChartLabel\n} from \"react-vis\";\n\n// a histogram to show the number of cars left vs the number of questions asked.\nclass Histogram extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hintValue: null\n    };\n  }\n\n  _onMouseLeave = () => {\n    this.setState({\n      hintValue: null\n    });\n  };\n\n  _onNearestX = (value, { index }) => {\n    this.setState({\n      hintValue: this.props.data[index]\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <h4>No. of Cars Left vs. No. of Questions Asked</h4>\n        <div style={{ width: \"25rem\", height: \"25rem\" }}>\n          <FlexibleXYPlot onMouseLeave={this._onMouseLeave}>\n            <XAxis\n              tickValues={this.props.data.map((val, idx) => idx)}\n              tickFormat={value => value.toString()}\n              style={{\n                ticks: { fill: \"black\" }\n              }}\n            />\n            <YAxis\n              style={{\n                ticks: { fill: \"black\" }\n              }}\n            />\n            <ChartLabel\n              text=\"Question No.\"\n              includeMargin={false}\n              xPercent={0.82}\n              yPercent={1.06}\n              style={{\n                style: { fill: \"black\" }\n              }}\n            />\n            <ChartLabel\n              text=\"No. of Cars Left\"\n              includeMargin={false}\n              xPercent={-0.01}\n              yPercent={0.05}\n              style={{\n                transform: \"rotate(-90)\",\n                textAnchor: \"end\",\n                style: { fill: \"black\" }\n              }}\n            />\n            <VerticalBarSeries\n              color=\"rgb(0, 123, 255)\"\n              onNearestX={this._onNearestX}\n              data={this.props.data}\n              animation\n            />\n            {this.state.hintValue && (\n              <Hint value={this.state.hintValue}>\n                <p style={{ color: \"black\" }}>\n                  Q{this.state.hintValue.x}: {this.state.hintValue.y} Cars Left\n                </p>\n              </Hint>\n            )}\n          </FlexibleXYPlot>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({ numLeftPoints }) => ({\n  data: numLeftPoints.map((num, i) => ({ x: i, y: num }))\n});\n\nexport default connect(mapStateToProps)(Histogram);\n","import * as THREE from \"three\";\nwindow.THREE = THREE;\nrequire(\"three/examples/js/controls/OrbitControls\");\nrequire(\"three/examples/js/QuickHull\");\nrequire(\"three/examples/js/geometries/ConvexGeometry\");\n\nexport default THREE;\n","import React from \"react\";\nimport THREE from \"./three\";\n\nconst SCALE = 100;\nconst FACTOR = 10; // font size = SCALE / FACTOR\n\n// the convex hull of the preference space\nclass ConvexHull extends React.Component {\n  componentDidMount() {\n    const width = this.mount.clientWidth;\n    const height = this.mount.clientHeight;\n\n    this.scene = new THREE.Scene();\n\n    this.camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);\n    this.camera.position.set(1.5 * SCALE, 1.5 * SCALE, 0.5 * SCALE);\n    this.camera.up.set(0, 0, 1);\n    this.controls = new THREE.OrbitControls(this.camera, this.mount);\n    this.controls.update();\n\n    this.renderer = new THREE.WebGLRenderer({ antialias: true });\n    this.renderer.setClearColor(0xffffff);\n    this.renderer.setSize(width, height);\n    this.mount.appendChild(this.renderer.domElement);\n    this.addAxes();\n    this.drawGeometry();\n    this.start();\n  }\n\n  drawGeometry = () => {\n    if (this.props.vertices.length < 4) return;\n    const points = this.props.vertices.map(vertex => {\n      const scaled_vertex = vertex.map(x => x * SCALE);\n      return new THREE.Vector3(...scaled_vertex);\n    });\n    const geometry = new THREE.ConvexGeometry(points);\n    const material = new THREE.MeshBasicMaterial({\n      color: 0xff0000,\n      //shading: THREE.FlatShading,\n      polygonOffset: true,\n      polygonOffsetFactor: 1, // positive value pushes polygon further away\n      polygonOffsetUnits: 1,\n      opacity: 0.5,\n      transparent: true\n    });\n    this.mesh = new THREE.Mesh(geometry, material);\n    const geo = new THREE.EdgesGeometry(geometry); // or WireframeGeometry\n    const mat = new THREE.LineBasicMaterial({ color: 0x000000, linewidth: 2 });\n    const wireframe = new THREE.LineSegments(geo, mat);\n    this.mesh.add(wireframe);\n    this.scene.add(this.mesh);\n  };\n\n  addAxes = () => {\n    const axes = new THREE.AxesHelper(1.5 * SCALE);\n    this.scene.add(axes);\n    const typeface = require(\"three/examples/fonts/helvetiker_regular.typeface.json\");\n    const font = new THREE.Font(typeface);\n\n    const numConfig = [\n      // color, position, rotation\n      [\n        0xff0000,\n        [SCALE + SCALE / (FACTOR * 2), 0, 0],\n        [Math.PI / 2, Math.PI, 0]\n      ],\n      [\n        0x00ff00,\n        [0, SCALE - SCALE / (FACTOR * 2), 0],\n        [Math.PI / 2, Math.PI / 2, 0]\n      ],\n      [\n        0x0000ff,\n        [\n          SCALE / (FACTOR * Math.sqrt(2)),\n          -SCALE / (FACTOR * Math.sqrt(2)),\n          SCALE\n        ],\n        [Math.PI / 2, (Math.PI * 3) / 4, 0]\n      ]\n    ];\n\n    numConfig.forEach(([color, position, rotation]) => {\n      const shape = font.generateShapes(\"1\", SCALE / FACTOR);\n      const geometry = new THREE.ShapeBufferGeometry(shape);\n      const mesh = new THREE.Mesh(\n        geometry,\n        new THREE.MeshBasicMaterial({\n          color: color,\n          side: THREE.DoubleSide\n        })\n      );\n      mesh.position.set(...position);\n      mesh.rotation.set(...rotation);\n      this.scene.add(mesh);\n    });\n    window.lines = [];\n    const lineConfig = [\n      [0xff0000, [SCALE, 0, 0], [0, 0, 0]],\n      [0x00ff00, [0, SCALE, 0], [0, 0, -Math.PI / 2]],\n      [0x0000ff, [0, 0, SCALE], [0, 0, -Math.PI / 2]]\n    ];\n    lineConfig.forEach(([color, position, rotation]) => {\n      const material = new THREE.LineBasicMaterial({\n        color\n      });\n      const geometry = new THREE.Geometry();\n      geometry.vertices.push(\n        new THREE.Vector3(0, 0, 0),\n        new THREE.Vector3(0, SCALE / (2 * FACTOR))\n      );\n      const line = new THREE.Line(geometry, material);\n      line.position.set(...position);\n      line.rotation.set(...rotation);\n      this.scene.add(line);\n      window.lines.push(line);\n    });\n  };\n\n  componentDidUpdate(prevProps) {\n    if (this.props.vertices !== prevProps.vertices) {\n      if (this.mesh) {\n        this.scene.remove(this.mesh);\n        this.mesh.geometry.dispose();\n        this.mesh.material.dispose();\n      }\n      this.drawGeometry();\n    }\n  }\n\n  componentWillUnmount() {\n    this.stop();\n    this.mount.removeChild(this.renderer.domElement);\n  }\n\n  start = () => {\n    if (!this.frameId) {\n      this.frameId = window.requestAnimationFrame(this.animate);\n    }\n  };\n\n  stop = () => {\n    window.cancelAnimationFrame(this.frameId);\n  };\n\n  animate = () => {\n    this.controls.update();\n    this.renderer.render(this.scene, this.camera);\n    this.frameId = window.requestAnimationFrame(this.animate);\n  };\n\n  render() {\n    return (\n      <div\n        style={{ width: \"25rem\", height: \"25rem\" }}\n        ref={mount => {\n          this.mount = mount;\n        }}\n      />\n    );\n  }\n}\n\nexport default ConvexHull;\n","import React from \"react\";\nimport Slider from \"react-slick\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleUp, faAngleDown } from \"@fortawesome/free-solid-svg-icons\";\n\nfunction Line({ color }) {\n  return (\n    <div\n      style={{\n        width: \"100%\",\n        height: \"2rem\",\n        alignItems: \"center\",\n        display: \"flex\"\n      }}\n    >\n      <div style={{ width: \"100%\", height: \"2px\", backgroundColor: color }} />\n    </div>\n  );\n}\n\nfunction SlideItem({ text }) {\n  return (\n    <div\n      style={{\n        height: \"2rem\",\n        alignItems: \"center\",\n        display: \"flex\",\n        justifyContent: \"center\"\n      }}\n    >\n      {text}\n    </div>\n  );\n}\n\n// show/change the selected attributes for displaying the convex hull\nclass Legend extends React.Component {\n  render() {\n    const settings = {\n      dots: false,\n      infinite: true,\n      speed: 500,\n      slidesToShow: 3,\n      slidesToScroll: 1,\n      vertical: true,\n      verticalSwiping: true,\n      arrows: false,\n      swipeToSlide: true,\n      afterChange: this.props.changeStartingIndex\n    };\n    return (\n      <div\n        title=\"Click the arrows to change the selected attributes for displaying the convex hull.\"\n        style={{\n          width: \"12rem\"\n        }}\n      >\n        <div\n          style={{\n            alignItems: \"center\",\n            width: \"4rem\",\n            display: \"inline-block\",\n            verticalAlign: \"middle\"\n          }}\n        >\n          <Line color=\"#ff0000\" />\n          <Line color=\"#00ff00\" />\n          <Line color=\"#0000ff\" />\n        </div>\n        <div\n          style={{\n            width: \"8rem\",\n            display: \"inline-block\",\n            verticalAlign: \"middle\"\n          }}\n        >\n          <div\n            onClick={() => this.slider.slickPrev()}\n            style={{ cursor: \"pointer\" }}\n          >\n            <FontAwesomeIcon icon={faAngleUp} />\n          </div>\n          <Slider {...settings} ref={self => (this.slider = self)}>\n            <SlideItem text=\"Price (USD)\" />\n            <SlideItem text=\"Year\" />\n            <SlideItem text=\"Power (HP)\" />\n            <SlideItem text=\"Used KM\" />\n          </Slider>\n          <div\n            onClick={() => this.slider.slickNext()}\n            style={{ cursor: \"pointer\" }}\n          >\n            <FontAwesomeIcon icon={faAngleDown} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Legend;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport ConvexHull from \"./ConvexHull\";\nimport Legend from \"./Legend\";\n\n// to visualize the preference space.\nclass PreferenceSpace extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      index: 0,\n      convexHullVertices: props.vertices.map(vert => vert.slice(0, 3))\n    };\n  }\n\n  updateContextHullVertices = index => {\n    const convexHullVertices = this.props.vertices.map(vertext => {\n      const vert = [];\n      for (let i = 0; i < 3; ++i) {\n        vert.push(vertext[(i + index) % 4]);\n      }\n      return vert;\n    });\n    this.setState({ convexHullVertices });\n  };\n\n  componentDidUpdate(prevProps) {\n    if (this.props.vertices !== prevProps.vertices) {\n      this.updateContextHullVertices(this.state.index);\n    }\n  }\n\n  changeStartingIndex = index => {\n    this.setState({ index });\n    // explicitly pass index to this.updateContextHullVertices\n    // because this.state.index is not updated immediately,\n    // i.e., this.state.index has still the old value at this line.\n    this.updateContextHullVertices(index);\n  };\n\n  render() {\n    return (\n      <div>\n        <h4>Convex Hull of Preference Space</h4>\n        <ConvexHull vertices={this.state.convexHullVertices} />\n        <div style={{ position: \"absolute\", top: \"2rem\", left: \"20rem\" }}>\n          <Legend changeStartingIndex={this.changeStartingIndex} />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({ vertices }) => ({ vertices });\n\nexport default connect(mapStateToProps)(PreferenceSpace);\n","import React from \"react\";\nimport Histogram from \"./Histogram\";\nimport PreferenceSpace from \"./PreferenceSpace\";\n\nfunction Visuals() {\n  return (\n    <div>\n      <h2>Visuals</h2>\n      <div className=\"row justify-content-center\">\n        <div className=\"col-6\" style={{ minWidth: \"500px\" }}>\n          <Histogram />\n        </div>\n        <div className=\"col-6\" style={{ minWidth: \"500px\" }}>\n          <PreferenceSpace />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Visuals;\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport classNames from \"classnames\";\r\n\r\n// statistics including the number of cars pruned/left.\r\nclass Stats extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.attributes = [];\r\n    this.props.attributes.forEach(([attr, config]) => {\r\n      if (this.props.mask[attr]) {\r\n        this.attributes.push(attr);\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let ths = [<th key=\"Step No.\">Step</th>];\r\n    this.attributes.forEach(attr => {\r\n      ths.push(<th key={attr}>{attr}</th>);\r\n    });\r\n    const prunedTrs = this.props.prunedPoints.map(([idx, step], i) => (\r\n      <tr key={i} data-toggle=\"tooltip\" title={this.props.labels[idx]}>\r\n        {[step, ...this.props.candidates[idx]].map((x, j) => (\r\n          <td key={j}>{x}</td>\r\n        ))}\r\n      </tr>\r\n    ));\r\n    const leftTrs = this.props.leftPoints.map((idx, i) => (\r\n      <tr key={i} data-toggle=\"tooltip\" title={this.props.labels[idx]}>\r\n        {this.props.candidates[idx].map((x, j) => (\r\n          <td key={j}>{x}</td>\r\n        ))}\r\n      </tr>\r\n    ));\r\n    return (\r\n      <div>\r\n        <h2>Statistics</h2>\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <h4>The No. of Cars Pruned: {this.props.prunedPoints.length}</h4>\r\n            <table\r\n              className={classNames(\"table\", \"table-hover\", {\r\n                \"table-fixed\": prunedTrs.length > 7\r\n              })}\r\n              style={{\r\n                minWidth: \"37rem\"\r\n              }}\r\n            >\r\n              <thead>\r\n                <tr>{ths}</tr>\r\n              </thead>\r\n              <tbody>{prunedTrs}</tbody>\r\n            </table>\r\n          </div>\r\n          <div className=\"col\">\r\n            <h4>\r\n              The No. of Cars Left in the Database:{\" \"}\r\n              {this.props.leftPoints.length}\r\n            </h4>\r\n            <table\r\n              className={classNames(\"table\", \"table-hover\", {\r\n                \"table-fixed\": leftTrs.length > 7\r\n              })}\r\n              style={{\r\n                minWidth: \"30rem\"\r\n              }}\r\n            >\r\n              <thead>\r\n                <tr>{ths.slice(1)}</tr>\r\n              </thead>\r\n              <tbody>{leftTrs}</tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToPropsStats = ({\r\n  labels,\r\n  candidates,\r\n  prunedPoints,\r\n  leftPoints,\r\n  attributes,\r\n  mask\r\n}) => ({\r\n  labels,\r\n  candidates,\r\n  prunedPoints,\r\n  leftPoints,\r\n  attributes,\r\n  mask\r\n});\r\n\r\nexport default connect(mapStateToPropsStats)(Stats);\r\n","import React from \"react\";\nimport Question from \"./Question\";\nimport Visuals from \"./Visuals\";\nimport Stats from \"./Stats\";\n\nfunction Interaction() {\n  return (\n    <div>\n      <Question />\n      <Visuals />\n      <Stats />\n    </div>\n  );\n}\n\nexport default Interaction;\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport classNames from \"classnames\";\r\nimport { setActiveComponent, restart } from \"../actions\";\r\nimport Histogram from \"./Histogram\";\r\n\r\n// show the number of questions asked and the favourite car/remaining cars.\r\nfunction Result({\r\n  labels,\r\n  candidates,\r\n  leftPoints,\r\n  attributes,\r\n  mask,\r\n  numLeftPoints,\r\n  restart\r\n}) {\r\n  let ths = [];\r\n  attributes.forEach(([attr, config]) => {\r\n    if (mask[attr]) {\r\n      const th = <th key={attr}>{attr}</th>;\r\n      ths.push(th);\r\n    }\r\n  });\r\n  const trs = leftPoints.map((idx, i) => (\r\n    <tr key={i} data-toggle=\"tooltip\" title={labels[idx]}>\r\n      {candidates[idx].map((x, j) => (\r\n        <td key={j}>{x}</td>\r\n      ))}\r\n    </tr>\r\n  ));\r\n  return (\r\n    <div className=\"justify-content-center\">\r\n      <h4>The Total No. of Questions Asked is: {numLeftPoints.length - 1}.</h4>\r\n      <h4>\r\n        {leftPoints.length === 1\r\n          ? \"Your Favourite Car is:\"\r\n          : `${leftPoints.length} Cars Left in the Database:`}\r\n      </h4>\r\n      <table\r\n        className={classNames(\"table\", \"table-hover\", {\r\n          \"table-fixed\": trs.length > 7\r\n        })}\r\n        style={{\r\n          maxWidth: \"40rem\",\r\n          margin: \"auto\"\r\n        }}\r\n      >\r\n        <thead>\r\n          <tr>{ths}</tr>\r\n        </thead>\r\n        <tbody>{trs}</tbody>\r\n      </table>\r\n      <div className=\"d-flex justify-content-center my-3\">\r\n        <Histogram />\r\n      </div>\r\n      <div>\r\n        <button type=\"button\" className=\"btn btn-primary\" onClick={restart}>\r\n          Return to Welcome\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = ({\r\n  labels,\r\n  candidates,\r\n  leftPoints,\r\n  attributes,\r\n  mask,\r\n  numLeftPoints\r\n}) => ({\r\n  labels,\r\n  candidates,\r\n  leftPoints,\r\n  attributes,\r\n  mask,\r\n  numLeftPoints\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  restart: () => {\r\n    dispatch(setActiveComponent(\"Welcome\"));\r\n    dispatch(restart());\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Result);\r\n","import React from \"react\";\r\nimport Welcome from \"./Welcome\";\r\nimport Interaction from \"./Interaction\";\r\nimport Result from \"./Result\";\r\nimport { connect } from \"react-redux\";\r\n\r\nfunction App({ activeComponent }) {\r\n  switch (activeComponent) {\r\n    case \"Welcome\":\r\n      return <Welcome />;\r\n    case \"Interaction\":\r\n      return <Interaction />;\r\n    case \"Result\":\r\n      return <Result />;\r\n    default:\r\n      return <div />;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ activeComponent }) => ({\r\n  activeComponent\r\n});\r\n\r\nexport default connect(mapStateToProps)(App);\r\n","import { createStore } from \"redux\";\r\nimport rootReducer from \"./reducers\";\r\nimport React from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport App from \"./components/App\";\r\nimport { loadDataset } from \"./utils\";\r\n\r\nwindow.Module = {\r\n  onRuntimeInitialized: async function() {\r\n    const [points, labels] = await loadDataset(\r\n      \"./datasets/cars.txt\",\r\n      \"./datasets/labelsOfCars.txt\"\r\n    );\r\n    const attributes = [\r\n      [\"Price (USD)\", { low: 1000, high: 50000, smallerBetter: true }],\r\n      [\"Year\", { low: 2001, high: 2017, smallerBetter: false }],\r\n      [\"Power (HP)\", { low: 50, high: 400, smallerBetter: false }],\r\n      [\"Used KM\", { low: 10000, high: 150000, smallerBetter: true }]\r\n    ];\r\n    const mask = {};\r\n    attributes.forEach(([attr, config]) => {\r\n      mask[attr] = 1;\r\n    });\r\n\r\n    const store = createStore(\r\n      rootReducer,\r\n      { points, labels, attributes, mask }\r\n      // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n    );\r\n    render(\r\n      <Provider store={store}>\r\n        <App />\r\n      </Provider>,\r\n      document.getElementById(\"root\")\r\n    );\r\n  }\r\n};\r\n\r\nconst script = document.createElement(\"script\");\r\nscript.src = \"web.js\";\r\nscript.async = true;\r\ndocument.body.appendChild(script);\r\n"],"sourceRoot":""}